# Server configuration (base URL for backend)
# In Docker environment use host.docker.internal; for local dev you can set http://localhost:8080
server:
  baseUrl: http://host.docker.internal:8080

# Database configuration
spring:
  datasource:
    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:onlyoffice_demo}
    username: ${DB_USER:demo}
    password: ${DB_PASSWORD:demo_password}
    driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect

# ONLYOFFICE Document Server Settings
onlyoffice:
  url: ${ONLYOFFICE_URL:http://localhost:9980}
  # JWT secret - must match docker-compose JWT_SECRET and be at least 32 characters
  secret: ${JWT_SECRET:your-secret-key-must-be-at-least-32-characters-long-for-hs256}
  jwt:
    # JWT token expiration time in hours (default: 1 hour)
    expiration-hours: 1
  # MinIO Presigned URL Configuration
  # When true: Document Server downloads files directly from MinIO using presigned URLs
  # When false: Document Server downloads via backend proxy (default, more secure)
  use-presigned-urls: false
  # MinIO endpoint accessible from ONLYOFFICE Document Server container
  # Docker: http://minio:9000 (internal docker network hostname)
  # Production: Use publicly accessible MinIO URL
  minio-external-endpoint: http://minio:9000

# Storage configuration
storage:
  path: backend/storage

# MinIO Configuration
minio:
  endpoint: ${MINIO_ENDPOINT:http://localhost:9000}
  accessKey: ${MINIO_ROOT_USER:minioadmin}
  secretKey: ${MINIO_ROOT_PASSWORD:minioadmin_password}
  bucket: ${MINIO_BUCKET:onlyoffice-documents}
  presigned-url-expiry: 3600  # 1시간 (초)
